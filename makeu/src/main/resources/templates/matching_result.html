<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/jhstyle.css">

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <title>Document</title>
</head>
<body>
    <div th:replace="~{header}"></div> 

    <div class="main_back">
        <div class="result_form">
            <div class="analysis">
                <div class="results">
                  
                  <div class="face-shape">
                    <div class="shapes">
                      <div class="row">
                        <div class="shape"><img src="img/face_shape/smiling-face.png" data-shape="Round" alt="둥근형"><p>둥근형</p></div>
                        <div class="shape"><img src="img/face_shape/heart.png" data-shape="Heart" alt="하트형"><p>하트형</p></div>
                        <div class="shape"><img src="img/face_shape/egg.png" data-shape="Oval" alt="계란형"><p>계란형</p></div>
                      </div>
                      <div class="row">
                        <div class="shape"><img src="img/face_shape/square.png" data-shape="Square" alt="사각형"><p>사각형</p></div>
                        <div class="shape"><img src="img/face_shape/oval.png" data-shape="Oblong" alt="타원형"><p>타원형</p></div>
                      </div>
                    </div>
                  </div>
                  
                  <div class="personal-color">
                    <div class="colors">
                      <div class="color"><img src="img/season/봄 웜톤.jpeg" alt="Spring"><p>봄 웜톤</p></div>
                      <div class="color"><img src="img/season/여름 쿨톤.jpeg" alt="Summer"><p>여름 쿨톤</p></div>
                      <div class="color"><img src="img/season/가을 웜톤.jpeg" alt="Autumm"><p>가을 웜톤</p></div>
                      <div class="color"><img src="img/season/겨울 쿨톤.jpeg" alt="Winter"><p>겨울 쿨톤</p></div>
                    </div>
                  </div>
                </div>
            </div>
          
            <div class="recommendation">
                
                
                <div class="creators">
                  <div class="creator_category">
                    <h3>얼굴형 + 퍼스널 컬러</h3>
                    <p>전체적인 메이크업 분위기를 참고하기 좋아요</p>
                    <div class="creator">
                        <div class="youtuber_img"><img src="img/creator_profile/Yoo True.jpg" alt="Yoo True"></div>
                        <h4>Yoo True</h4>
                        <p>구독자 57.4만명</p>
                        <p>#데일리, #완벽베이스, #도구장인, #라이트톤</p>
                    </div>
                  </div>
                  <div class="creator_category">
                    <h3>눈 모양</h3>
                    <p>눈 화장을 집중적으로 참고해 보세요!</p>
                    <div class="creator">
                        <div class="youtuber_img"><img src="img/creator_profile/Minsco 민스코.jpg" alt="Minsco"></div>
                        <h4>Minsco</h4>
                        <p>구독자 71.2만명</p>
                        <p>#힙, #매트베이스, #드로잉, #아이라인</p>
                    </div>
                  </div>
                </div>
            </div>
          
              <div class="buttons">
                <button class="btn home">HOME</button>
                <button class="btn save">SAVE</button>
              </div>
        </div>
    </div>
    <h2>얼굴형: <span th:text="${session.faceShape}"></span></h2>
    <h2>퍼스널컬러: <span th:text="${session.personalColor}"></span></h2>
</body>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    // 세션에서 저장된 얼굴형 값을 가져옵니다
    const faceShape = sessionStorage.getItem('faceShape');  // 예: '계란형'
    const personalColor = sessionStorage.getItem('personalColor'); // 퍼스널 컬러 값
    // 얼굴형 요소를 선택
    const faceShapeElements = document.querySelectorAll('.face-shape .shape img');
    // 퍼스널 컬러 요소 선택
    const personalColorElements = document.querySelectorAll('.personal-color .color img');

    faceShapeElements.forEach((img) => {
      if (img.dataset.shape === faceShape) {
          img.style.opacity = "1"; // 일치하는 이미지 명확하게
          img.style.filter = "none";
      } else {
          img.style.opacity = "0.1"; // 다른 이미지는 흐리게
          img.style.filter = "grayscale(100%)";
      }
    });

    personalColorElements.forEach((img) => {
        if (img.alt === personalColor) { // 이미지의 alt 속성을 사용
            img.style.opacity = "1"; // 일치하는 이미지 명확하게
            img.style.filter = "none";
        } else {
            img.style.opacity = "0.1"; // 다른 이미지는 흐리게
            img.style.filter = "grayscale(100%)";
        }
    });
});
</script>
</html>